<!DOCTYPE html> 
<html lang="de"> <!-- Sprache deutsch -->

<head> <!-- Infos über die Seite -->
    <meta charset="UTF-8"> <!-- Zeichensatz -->
    <title>Arbeitszeiterfassung</title> <!-- Titel der Seite -->
    <link rel="stylesheet" href="/static/style.css"> <!-- Verlinkung zur CSS Datei -->
</head>

<body> <!-- Inhalt der Seite -->
    <h1>Arbeitszeiterfassung</h1> <!-- Hauptüberschrift -->

    <form method="post">
        <div class="form-group"> <!-- Formulargruppe -->
            <label for="datum">Datum:</label> <!-- Beschriftung für das Datum -->
            <input type="date" id="datum" name="datum" required> <!-- Eingabefeld für Datum -->
        </div>

        <div class="form-group">
            <label for="startzeit">Startzeit:</label>
            <input type="time" id="startzeit" name="startzeit" required>
        </div>

        <div class="form-group">
            <label for="endzeit">Endzeit:</label>
            <input type="time" id="endzeit" name="endzeit" required>
        </div>

        <input type="submit" value="Eintrag speichern">
    </form>

    <h2>Deine Einträge</h2> <!-- Unterüberschrift -->

    <div class="monatsauswahl-wrapper">
    <form method="get" style="display: inline-block;">
        <label for="monat">Monat:</label>
        <select id="monat" name="monat">
            <option value="1">Januar</option>
            <option value="2">Februar</option>
            <option value="3">März</option>
            <option value="4">April</option>
            <option value="5">Mai</option>
            <option value="6">Juni</option>
            <option value="7">Juli</option>
            <option value="8">August</option>
            <option value="9">September</option>
            <option value="10">Oktober</option>
            <option value="11">November</option>
            <option value="12">Dezember</option>
        </select>
        <input type="submit" value="Monat anzeigen">
    </form>
    </div>

    {% if gewaehlter_monat %}
    <h3>Ausgewählter Monat: {{ gewaehlter_monat }}</h3>
    {% endif %}


    <table border="1"> <!-- Tabelle mit Rahmen -->
        <tr> <!-- Tabellenkopf -->
            <th>Datum</th> <!-- Spaltenüberschriften -->
            <th>Startzeit</th>
            <th>Endzeit</th>
            <th>Stunden</th>
            <th>Pausenzeit</th>
            <th>Gehalt (€)</th>
            <th>Aktionen</th>
        </tr>
        {% for e in eintraege %} <!-- Schleife über die Einträge -->
        <tr>
            <td>{{ e.datum }}</td> <!-- Eintrag für Datum -->
            <td>{{ e.start }}</td>
            <td>{{ e.ende }}</td>
            <td>{{ e.stunden }}</td>
            <td>{{ e.pausenzeit }}</td>
            <td>{{ e.gehalt }}</td>
            <td>
                <form method="POST" action="/delete/{{ e.id }}" onsubmit="return confirm('Eintrag wirklich löschen?');">
                    <button type="submit" class="delete-button">Löschen</button>
                </form>
        </tr>
        {% endfor %} <!-- Ende der Schleife -->
    </table>

    <h3>Gesamtstunden: {{ gesamt_stunden }} h</h3> 
    <h3>Gesamtgehalt: {{ gesamt_gehalt }} €</h3>
</body>
</html>
